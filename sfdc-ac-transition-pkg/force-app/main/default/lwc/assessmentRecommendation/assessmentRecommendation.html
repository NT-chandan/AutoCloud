<template>
    <template if:true={shouldShowRecommendation}>
        <article class="slds-setup-assistant__step">
            <div class="slds-summary-detail slds-is-open">
                <div class="slds-container_fluid">
                    <div class="slds-summary-detail__title">
                        <div class="slds-setup-assistant__step-summary">
                            <div class="slds-media">
                                <div class="slds-media__figure">
                                    <lightning-icon icon-name={recommendation.severityIcon} size={severityIconSize} class={severityIconStyle}></lightning-icon>
                                </div>
                                <div class="slds-media__body slds-m-top_x-small">
                                    <div class="slds-media">
                                        <div class="slds-setup-assistant__step-summary-content slds-media__body">
                                            <h3 class="slds-setup-assistant__step-summary-title slds-text-heading_small">
                                                {recommendation.text}
                                            </h3>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div aria-hidden="false" class="slds-summary-detail__content">
                        <div class="slds-setup-assistant__step-detail">
                            <div class="slds-progress slds-progress_vertical slds-progress_success">
                                <ol class="slds-progress__list slds-progress__list-bordered">
                                    <template for:each={recommendation.reasons} for:item="item">
                                        <li class="slds-progress__item" key={item.reason}>
                                            <div class="slds-progress__marker"></div>
                                            <div class="slds-progress__item_content slds-grid slds-grid_align-spread">
                                                <div class="slds-size_4-of-4">
                                                    <lightning-formatted-rich-text value={item.reason}></lightning-formatted-rich-text>
                                                    <template if:true={item.hasDescription}>
                                                        <article class="slds-card slds-is-relative">            
                                                            <div class="slds-card__body slds-card__body_inner">
                                                                <lightning-accordion allow-multiple-sections-open>
                                                                    <lightning-accordion-section name={item.title} label={item.title}>
                                                                        <lightning-formatted-rich-text value={item.description}></lightning-formatted-rich-text>
                                                                    </lightning-accordion-section>
                                                                </lightning-accordion>
                                                            </div>
                                                        </article>
                                                    </template>
                                                </div>
                                            </div>
                                        </li>
                                    </template>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </article>
    </template>
    
</template>